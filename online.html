<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>jsrun</title>
  <link rel="stylesheet" href="css/coding.css">
  <link rel="stylesheet" href="highlight/styles/atom-one-dark.css">
  <script src="highlight/highlight.pack.js"></script>
  <script src="script/jquery-3.4.1.min.js"></script>
</head>

<body>
  <h2>write you javascript here </h2><br>
  <textarea id="code" placeholder="code"></textarea><textarea id="result" placeholder="result"></textarea>
  <aside id="buttons">
    <button id="run" onclick="run()">run code</button><br>
    <button id="clear" onclick="javascript:code.value = '';result.value=''">clear</button><br>
    <button id="time" onclick="time()">run time</button><br>
    <button id="time" onclick="build()">build</button><br>
    <!--<button id="time" onclick="show()">write</button>-->
  </aside>
  <script>
    console.log = (value) => {
      document.getElementById('result').value += `${value}\n`;
    }

    function run() {
      try {
        let cmd = code.value.split(`\n`);
        let func = "";
        for (let i = 0; i < cmd.length; i++) {
          func += cmd[i];
        }
        (new Function(func))()
      } catch (event) {
        console.log(`error: ${event}`);
      }
    }

    function time() {
      try {
        let start = performance.now();
        let cmd = code.value.split(`\n`);
        let func = "";
        for (let i = 0; i < cmd.length; i++) {
          func += cmd[i];
        }
        (new Function(func))()
        let end = performance.now();
        console.log(`run time: ${end-start}`);
      } catch (event) {
        console.log(`error: ${event}`);
      }
    }
    function build() {
      hl.style.display = 'block';
      code.style.display = 'none';
      result.style.display = 'none';
      c.innerText = code.value;
      hljs.highlightBlock(c);
    }

    function show() {
      code.style.display = 'block';
      result.style.display = 'block';
      hl.style.display = 'none'
    }
    console.log("https://yt2.tv");
  </script>
  <pre id="hl">
        <code id="c">
        </code>
    </pre>
</body>

</html>
